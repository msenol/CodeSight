apiVersion: v1
kind: ConfigMap
metadata:
  name: codesight-config
  namespace: codesight
data:
  # Server Configuration
  PORT: '4000'
  MCP_PORT: '8080'
  NODE_ENV: 'production'
  LOG_LEVEL: 'info'

  # Feature Flags
  ENABLE_RUST_FFI: 'true'
  FFI_GRACEFUL_FALLBACK: 'true'
  ENABLE_AI_FALLBACK: 'true'
  AI_CACHE_ENABLED: 'true'

  # Performance
  INDEXING_PARALLEL_WORKERS: '4'
  INDEXING_BATCH_SIZE: '500'
  CACHE_SIZE_MB: '512'
  AI_TIMEOUT_MS: '30000'

  # AI Configuration
  PREFERRED_AI_PROVIDER: 'openrouter'
  OPENROUTER_MODEL: 'xiaomi/mimo-v2-flash:free'
  GROQ_MODEL: 'llama-3.1-8b-instant'
  OLLAMA_BASE_URL: 'http://ollama:11434'

  # Security
  CORS_ORIGIN: '*'
  RATE_LIMIT_WINDOW_MS: '60000'
  RATE_LIMIT_MAX_REQUESTS: '100'
