# CodeSight Project Environment Configuration
# Copy this file to .env and update the values as needed
# Generated: 2025-01-27

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application name and version
NODE_ENV=development
APP_NAME=codesight
APP_VERSION=0.1.0

# Server configuration
PORT=4000
HOST=localhost
API_PREFIX=/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database (SQLite for development, PostgreSQL for production)
DATABASE_URL=sqlite://./data/code_intelligence.db

# PostgreSQL configuration (for production)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=code_intelligence

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis for caching and session management
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# MCP server settings
MCP_PORT=3001
MCP_HOST=localhost
MCP_ENABLE_LOGGING=true
MCP_LOG_LEVEL=info

# MCP tool configuration
MCP_ENABLE_SEARCH=true
MCP_ENABLE_INDEXING=true
MCP_ENABLE_ANALYSIS=true
MCP_MAX_RESULTS=100
MCP_SEARCH_TIMEOUT=5000

# =============================================================================
# RUST FFI CONFIGURATION
# =============================================================================

# Rust FFI bridge settings
ENABLE_RUST_FFI=true
RUST_FFI_PATH=../rust-core/target/release
FFI_GRACEFUL_FALLBACK=true

# NAPI-RS configuration
NAPI_MODULE_PATH=./codesight-native.node
NAPI_DEBUG=false

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================

# API server settings
API_PORT=4001
API_HOST=localhost
API_ENABLE_CORS=true
API_ENABLE_RATE_LIMIT=true
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=60000

# JWT configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend development server
FRONTEND_PORT=3000
FRONTEND_HOST=localhost
VITE_DEV_SERVER_PORT=3000

# Frontend build configuration
VITE_API_BASE_URL=http://localhost:4000
VITE_MCP_BASE_URL=http://localhost:3001
VITE_ENABLE_DEV_TOOLS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging settings
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=5

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS configuration
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security headers
HELMET_ENABLED=true
XSS_PROTECTION=true
CONTENT_SECURITY_POLICY=true

# =============================================================================
# FILE AND DIRECTORY CONFIGURATION
# =============================================================================

# Data directories
DATA_DIR=./data
CACHE_DIR=./cache
LOGS_DIR=./logs
UPLOADS_DIR=./uploads
TEMP_DIR=./temp

# Rust FFI directories
RUST_TARGET_DIR=../rust-core/target
RUST_RELEASE_DIR=../rust-core/target/release

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development settings
DEV_MODE=true
DEV_HOT_RELOAD=true
DEV_SOURCE_MAPS=true
DEV_VERBOSE_LOGGING=false

# Testing configuration
TEST_MODE=false
TEST_DATABASE_URL=sqlite://./data/test_code_intelligence.db
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Performance settings
ENABLE_CACHE=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Indexing performance
INDEXING_BATCH_SIZE=100
INDEXING_MAX_CONCURRENT=4
INDEXING_TIMEOUT=30000

# Search performance
SEARCH_MAX_RESULTS=100
SEARCH_TIMEOUT=5000
SEARCH_ENABLE_FUZZY=true
SEARCH_FUZZY_THRESHOLD=0.6

# =============================================================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================================================

# External API keys (if needed)
OPENAI_API_KEY=
GITHUB_TOKEN=
DOCKER_REGISTRY_TOKEN=

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker environment
DOCKER_ENVIRONMENT=development
DOCKER_COMPOSE_PROJECT=codesight

# Docker networking
DOCKER_NETWORK=codesight-network
DOCKER_EXTERNAL_NETWORK=host

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# CI/CD settings
CI=false
CD=false
GITHUB_ACTIONS=false
BUILD_NUMBER=local
BUILD_COMMIT=local

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
ENABLE_TELEMETRY=false
ENABLE_ANALYTICS=false
ENABLE_ERROR_REPORTING=false
ENABLE_AUTO_UPDATES=false
ENABLE_BETA_FEATURES=false

# =============================================================================
# DEPRECATED CONFIGURATION (for backward compatibility)
# =============================================================================

# These variables are deprecated but maintained for backward compatibility
# Use the new variable names above

# Database (deprecated)
DB_HOST=${POSTGRES_HOST}
DB_PORT=${POSTGRES_PORT}
DB_USER=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}
DB_NAME=${POSTGRES_DB}

# Redis (deprecated)
REDIS_HOSTNAME=${REDIS_HOST}
REDIS_PORT_NUMBER=${REDIS_PORT}